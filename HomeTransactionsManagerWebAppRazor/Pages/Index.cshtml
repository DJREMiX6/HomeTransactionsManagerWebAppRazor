@page
@model HomeTransactionsManagerWebAppRazor.Pages.Index
@{
}

<div class="container p-3">
    <div class="row">
        <div class="col-6">
            <h2 class="text-info custom-control-inline">Transactions List</h2>
        </div>
        <div class="col-3">
            <a class="btn btn-secondary w-100" asp-page="/Create">Add Transaction</a>
        </div>
        <div class="col-3">
            <a class="btn btn-success w-100" asp-page="/TransactionsGraphicalVisualization">Graphical Visualization</a>
        </div>
    </div>
    <div class="row">
        <div class="col-12 border text-center">
            <h4 class="text-warning">Petty Cash: €@Model.Transactions.Sum(x => x.Amount)</h4>
        </div>
    </div>
    <div class="row"><table class="table table-striped border">
    <tr class="table-secondary">
        <th>
            <label asp-for="Transactions.FirstOrDefault().Date"></label>
        </th>
        <th>
            <label asp-for="People.FirstOrDefault().Name"></label>
        </th>
        <th>
            <label asp-for="Transactions.FirstOrDefault().Amount"></label>
        </th>
    </tr>
    @{
        if (Model.Transactions.Count() > 0)
        {
            for (int i = 0; i < Model.Transactions.Count(); i++)
            {
                <tr>
                    <td>
                        <label>@Model.Transactions[i].Date</label>
                    </td>
                    <td>
                        <label>@Model.People.FirstOrDefault(x => x.Id == Model.Transactions[i].PeopleFK).Name</label>
                    </td>
                    <td>
                        <label>€@Model.Transactions[i].Amount</label>
                    </td>
                </tr>
            }
        }
    }
</table>
    </div>
</div>
